CREATE TABLE clientes (
    id_cliente NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nombre VARCHAR2(50) NOT NULL,
    apellido VARCHAR2(50) NOT NULL,
    rut VARCHAR2(12) UNIQUE NOT NULL,
    telefono VARCHAR2(15),
    email VARCHAR2(50),
    nombre_mascota VARCHAR2(50) NOT NULL,
    raza VARCHAR2(50),
    tipo_mascota VARCHAR2(30) -- opcional, perro, gato, etc.
);

CREATE TABLE servicios (
    id_servicio NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nombre_servicio VARCHAR2(50) NOT NULL,
    descripcion VARCHAR2(200),
    precio NUMBER(8,2)
);



INSERT INTO servicios (nombre_servicio, descripcion, precio) VALUES ('Peluquería', 'Baño y corte de pelo', 15000);
INSERT INTO servicios (nombre_servicio, descripcion, precio) VALUES ('Consulta Veterinaria', 'Revisión médica general', 20000);



CREATE TABLE citas (
    id_cita NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_cliente NUMBER REFERENCES clientes(id_cliente),
    id_servicio NUMBER REFERENCES servicios(id_servicio),
    fecha_hora TIMESTAMP NOT NULL,
    estado VARCHAR2(20) DEFAULT 'pendiente' CHECK (estado IN ('pendiente','confirmada','cancelada'))
);

CREATE TABLE admin (
    id_admin NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    usuario VARCHAR2(50) UNIQUE NOT NULL,
    password VARCHAR2(100) NOT NULL
);


INSERT INTO admin (usuario, password) VALUES ('admin', 'veterinariapucara213'); -- luego puedes encriptar


CREATE TABLE blog (
    id_post NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    titulo VARCHAR2(100) NOT NULL,
    contenido CLOB NOT NULL,
    fecha TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    autor VARCHAR2(50) DEFAULT 'admin'
);
